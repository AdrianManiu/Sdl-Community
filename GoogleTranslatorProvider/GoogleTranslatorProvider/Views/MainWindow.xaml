<Window x:Class="GoogleTranslatorProvider.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:views="clr-namespace:GoogleTranslatorProvider.Views"
		xmlns:styles ="clr-namespace:GoogleTranslatorProvider.Styles"
		xmlns:viewModels ="clr-namespace:GoogleTranslatorProvider.ViewModels"
        xmlns:behaviours ="clr-namespace:GoogleTranslatorProvider.Behaviours"
		xmlns:converters ="clr-namespace:GoogleTranslatorProvider.Converters"
		xmlns:root ="clr-namespace:GoogleTranslatorProvider"
		mc:Ignorable="d"
        d:DataContext="{d:DesignInstance viewModels:MainWindowViewModel}"
		WindowStartupLocation="CenterScreen"
		ResizeMode="NoResize"
		WindowStyle="None"
		Height="600" Width="700"
        d:DesignHeight="450" d:DesignWidth="800">
	<Window.Resources>
		<ResourceDictionary>

			<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="../Styles/Buttons.xaml"/>
				<ResourceDictionary Source="../Styles/WindowsBorder.xaml" />
				<ResourceDictionary Source="/Sdl.Desktop.Platform.Styles;component/ButtonResources.xaml"/>
				<ResourceDictionary Source="/Sdl.Desktop.Platform.Styles;component/TextBlockResources.xaml"/>
			</ResourceDictionary.MergedDictionaries>

			<converters:EmptyToVisibility x:Key="EmptyToVisibilityConverter"/>
			<converters:InvertableBooleanToVisibilityConverter x:Key="InvertableBooleanToVisibilityConverter"/>

			<DataTemplate DataType="{x:Type viewModels:ProviderControlViewModel}">
				<views:ProviderControl />
			</DataTemplate>

			<DataTemplate DataType="{x:Type viewModels:SettingsControlViewModel}">
				<views:SettingsControl/>
			</DataTemplate>

			<Style TargetType="Image">
				<Setter Property="RenderOptions.BitmapScalingMode" Value="HighQuality" />
			</Style>
		</ResourceDictionary>
	</Window.Resources>


	<Border Style="{StaticResource WindowControlBorderStyle}">
		<Grid>
			<Grid.RowDefinitions>
				<RowDefinition Height="auto"/>
				<RowDefinition Height="auto"/>
				<RowDefinition Height="*"/>
				<RowDefinition Height="auto"/>
			</Grid.RowDefinitions>

			<!--<Top bar>-->
			<styles:WindowsControl DockPanel.Dock="Top" />
			<!--</Top bar>-->

			<!--<API Version Selector>-->
			<StackPanel Grid.Row="1">
				<ContentControl Content="{Binding SelectedView.ViewModel}" Margin="10"/>
				<TextBlock 
					Text="{Binding ErrorMessage}"
					Visibility="{Binding ErrorMessage,Converter={StaticResource EmptyToVisibilityConverter}}"
					Style="{StaticResource Sdl.TextBlock.ErrorTitleStyle}"
					FontSize="12"/>
				<WebBrowser
					Margin="5"
					Height="30" 
					behaviours:WebBrowserContentSource.Html ="{Binding TranslatorErrorResponse,UpdateSourceTrigger=PropertyChanged}"
					Visibility="{Binding TranslatorErrorResponse,Converter={StaticResource EmptyToVisibilityConverter}}"/>
			</StackPanel>
			<!--</API Version Selector>-->

			<!--<Footer>-->
			<StackPanel Margin="0 0 24 20"
						Orientation="Horizontal"
						HorizontalAlignment="Right"
						Grid.Row="3">
				<Button Content="{x:Static root:PluginResources.SettingsText}"
						Style="{StaticResource Sdl.Button.SecondaryStyle}"
						Command="{Binding ShowSettingsViewCommand}"
						Visibility="{Binding IsSettingsViewSelected, Converter={StaticResource InvertableBooleanToVisibilityConverter}, ConverterParameter=Inverted}"
						Cursor="Hand"
						Width="140"
						Margin="0 0 8 0"/>

				<Button Content="Confirm"
						Style="{StaticResource Sdl.Button.PrimaryStyle}"
						Command="{Binding SaveCommand}"
						IsDefault="True"
						Cursor="Hand"
						Width="140"/>
			</StackPanel>
			<!--</Footer>-->
		</Grid>
	</Border>
</Window>