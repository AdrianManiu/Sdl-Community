<UserControl x:Class="InterpretBank.SettingsService.UI.GlossarySetup"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:sdl="http://schemas.sdl.com/xaml"
			 xmlns:viewModel="clr-namespace:InterpretBank.SettingsService.ViewModel"
			 d:DataContext="{d:DesignInstance viewModel:SetupGlossariesViewModel}"
			 mc:Ignorable="d"
			 d:DesignHeight="450"
			 d:DesignWidth="800">
	<UserControl.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="../UI helpers/SettingsResources.xaml" />
				<ResourceDictionary Source="../UI helpers/SetupGlossariesResources.xaml" />
			</ResourceDictionary.MergedDictionaries>
		</ResourceDictionary>
	</UserControl.Resources>
	<TabControl Margin="10"
				Background="#F6F6F6"
				BorderThickness="1">

		<TabItem Header="Glossaries"
				 Template="{StaticResource GlossarySetupTabItem}">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto" />
					<RowDefinition Height="*" />
				</Grid.RowDefinitions>
				<Grid.ColumnDefinitions>
					<ColumnDefinition />
					<ColumnDefinition />
				</Grid.ColumnDefinitions>

				<DockPanel LastChildFill="False"
						   Grid.Column="0"
						   Grid.ColumnSpan="2"
						   Grid.Row="0"
						   DockPanel.Dock="Left">
					<TextBox x:Name="ValueHolder"
							 Visibility="Collapsed" />
					<TextBlock Text="Type in a new glossary name then press enter:"
							   Margin="0 5 0 1"
							   DockPanel.Dock="Top" />
					<TextBox DockPanel.Dock="Top"
							 Margin="0 0 0 5"
							 PreviewKeyDown="UIElement_OnKeyDown">
						<TextBox.InputBindings>
							<KeyBinding Key="Enter"
										Command="{Binding EnterGlossaryCommand}"
										CommandParameter="{Binding Text, ElementName=ValueHolder}" />
						</TextBox.InputBindings>
					</TextBox>
				</DockPanel>

				<ListBox DockPanel.Dock="Top"
						 Grid.Column="0"
						 Grid.Row="1"
						 x:Name="GlossaryList"
						 Validation.ErrorTemplate="{x:Null}"
						 ItemsSource="{Binding Glossaries}"
						 SelectedItem="{Binding GlossarySetupSelectedGlossary}"
						 d:ItemsSource="{d:SampleData ItemCount=5}">
					<ListBox.ItemTemplate>
						<DataTemplate>
							<DockPanel>
								<Image Source="../../Resources/Glossary.png"
									   DockPanel.Dock="Left"
									   Height="17" />
								<TextBlock Text="{Binding GlossaryName}"
										   FontSize="10"
										   VerticalAlignment="Center"
										   DockPanel.Dock="Left" />
							</DockPanel>
						</DataTemplate>
					</ListBox.ItemTemplate>
				</ListBox>
				<Grid Grid.Column="1"
					  Grid.Row="1">
					<Grid.RowDefinitions>
						<RowDefinition />
						<RowDefinition />
					</Grid.RowDefinitions>
					<sdl:MultiSelectComboBox Grid.Row="0"
											 DockPanel.Dock="Top"
											 Margin="5 0 0 5"
											 ItemsSource="{Binding Languages}"
											 SelectedItems="{Binding SelectedItem.Languages, ElementName=GlossaryList, Mode=TwoWay}"
											 DropdownItemTemplate="{StaticResource LanguageTemplate}"
											 SelectedItemTemplate="{StaticResource LanguageTemplate}" />
					<sdl:MultiSelectComboBox Grid.Row="1"
											 DockPanel.Dock="Bottom"
											 Margin="5 5 0 0"
											 ItemsSource="{Binding Tags}"
											 SelectedItems="{Binding SelectedItem.Tags, ElementName=GlossaryList}"
											 DropdownItemTemplate="{StaticResource TagTemplate}"
											 SelectedItemTemplate="{StaticResource TagTemplate}" />
				</Grid>
			</Grid>
		</TabItem>

		<TabItem Header="Tags"
				 Template="{StaticResource GlossarySetupTabItem}">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto" />
					<RowDefinition Height="*" />
				</Grid.RowDefinitions>
				<Grid.ColumnDefinitions>
					<ColumnDefinition />
					<ColumnDefinition />
				</Grid.ColumnDefinitions>

				<DockPanel LastChildFill="False"
						   Grid.Row="0"
						   Grid.Column="0"
						   Grid.ColumnSpan="2">
					<TextBlock Text="Type in a new tag then press enter:"
							   Margin="0 5 0 1"
							   DockPanel.Dock="Top" />
					<TextBox DockPanel.Dock="Top"
							 Margin="0 0 0 5"
							 PreviewKeyDown="UIElement_OnKeyDown">
						<TextBox.InputBindings>
							<KeyBinding Key="Enter"
										Command="{Binding EnterTagCommand}"
										CommandParameter="{Binding Text, ElementName=ValueHolder}" />
						</TextBox.InputBindings>
					</TextBox>
				</DockPanel>

				<ListBox DockPanel.Dock="Top"
						 Grid.Row="1"
						 x:Name="TagsList"
						 Grid.Column="0"
						 ItemsSource="{Binding Tags}"
						 SelectedItem="{Binding SelectedTag}"
						 d:ItemsSource="{d:SampleData ItemCount=5}">
					<ListBox.ItemTemplate>
						<DataTemplate>
							<DockPanel>
								<Button Command="{Binding DataContext.DeleteTagCommand, RelativeSource={RelativeSource AncestorType=ListBox}}"
										CommandParameter="{Binding TagName}"
										VerticalAlignment="Center"
										DockPanel.Dock="Left"
										Content="&#xE106;">
									<Button.Template>
										<ControlTemplate TargetType="Button">
											<TextBlock FontFamily="Segoe MDL2 Assets"
													   Text="{TemplateBinding Content}"
													   Foreground="Red"
													   HorizontalAlignment="Right"
													   FontSize="7" />
										</ControlTemplate>
									</Button.Template>
								</Button>
								<Image Source="../../Resources/Tag.png"
									   DockPanel.Dock="Left"
									   Height="17" />
								<TextBlock Text="{Binding TagName}"
										   FontSize="10"
										   VerticalAlignment="Center"
										   DockPanel.Dock="Right" />
							</DockPanel>
						</DataTemplate>
					</ListBox.ItemTemplate>
				</ListBox>


				<sdl:MultiSelectComboBox Grid.Column="1"
										 Grid.Row="1"
										 Margin="5 0 0 5"
										 ItemsSource="{Binding Glossaries}"
										 DropdownItemTemplate="{StaticResource GlossaryTemplate}"
										 SelectedItems="{Binding GlossariesTaggedWithSelected}"
										 SelectedItemTemplate="{StaticResource GlossaryTemplate}" />
			</Grid>
		</TabItem>
	</TabControl>
</UserControl>
