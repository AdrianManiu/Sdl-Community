<UserControl x:Class="InterpretBank.TermbaseViewer.UI.TermbaseViewer"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 xmlns:model="clr-namespace:InterpretBank.TermbaseViewer.Model"
			 xmlns:viewModel="clr-namespace:InterpretBank.TermbaseViewer.ViewModel"
			 xmlns:converters="clr-namespace:InterpretBank.TermbaseViewer.UI.Converters"
			 xmlns:controls="clr-namespace:InterpretBank.TermbaseViewer.UI.Controls"
			 mc:Ignorable="d"
			 d:DataContext="{d:DesignInstance viewModel:TermbaseViewerViewModel}"
			 d:DesignHeight="450"
			 d:DesignWidth="800">
	<UserControl.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="/Sdl.Desktop.Platform.Styles;component/buttonresources.xaml" />
				<ResourceDictionary Source="../../Styles/ButtonStyles.xaml" />
			</ResourceDictionary.MergedDictionaries>

			<converters:ImageToBitmapImageConverter x:Key="ImageConverter" />
			<BooleanToVisibilityConverter x:Key="BoolToVis" />
			<converters:InvertVisibilityConverter x:Key="InvertVisibilityConverter"/>

		</ResourceDictionary>
	</UserControl.Resources>
	<Grid Background="LightGray">
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="*" />
			<ColumnDefinition Width="3*" />
		</Grid.ColumnDefinitions>

		<ListBox Background="#f5f8fa"
				 Name="Term_ListBox"
				 Grid.Column="0"
				 Margin="0"
				 BorderThickness="0"
				 ItemsSource="{Binding Terms}"
				 SelectedItem="{Binding SelectedItem}">
			<ListBox.ItemTemplate>
				<DataTemplate DataType="{x:Type model:TermModel}">

					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto"/>
							<ColumnDefinition Width="*"/>
						</Grid.ColumnDefinitions>

						<TextBlock DockPanel.Dock="Right"
								   HorizontalAlignment="Left"
								   VerticalAlignment="Center"
								   Grid.Column="1"
								   Text="{Binding TargetTerm}" />
						<Button DockPanel.Dock="Left"
								HorizontalAlignment="Left"
								ToolTip="Remove term"
								Grid.Column="0"
								Style="{StaticResource GlyphButtonStyle2}"
								FontSize="8"
								Content="❌" />
					</Grid>

				</DataTemplate>
			</ListBox.ItemTemplate>
		</ListBox>

		<Button Grid.Column="0"
		        Style="{StaticResource GlyphButtonStyle3}"
		        VerticalAlignment="Bottom"
		        HorizontalAlignment="Right"
				ToolTip="Add new term"
		        Margin="2 0 0 0"
				Content="➕" />

		<Grid Margin="0"
			  Background="White"
			  Grid.Column="1">
			<Grid.ColumnDefinitions>
				<ColumnDefinition />
				<ColumnDefinition />
			</Grid.ColumnDefinitions>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto" />
				<RowDefinition Height="*" />
			</Grid.RowDefinitions>


			<DockPanel Grid.Row="0"
					   Margin="2 0 0 0"
					   Grid.Column="0"
					   VerticalAlignment="Top">
				<StackPanel Orientation="Horizontal"
							DockPanel.Dock="Top">
					<Image Source="{Binding SourceLanguageFlag, Converter={StaticResource ImageConverter}}"
						   Width="19"
						   Height="19" />
					<TextBlock Text="{Binding SourceLanguage.DisplayName}"
							   VerticalAlignment="Center"
							   FontWeight="Light"
							   FontSize="17" />
				</StackPanel>

				<StackPanel DockPanel.Dock="Bottom"
							Margin="10 5 0 0">
					<controls:EditableTextBlock Text="{Binding SelectedItem.SourceTermComment1}"
												x:Name="SourceTermComment1_EditableTextBlock" />
					<controls:EditableTextBlock Text="{Binding SelectedItem.SourceTermComment2}"
												Margin="0 2 0 0"
												x:Name="SourceTermComment2_EditableTextBlock" />
				</StackPanel>

				<controls:EditableTextBlock Margin="5 5 0 0"
											FontSize="15"
											FontWeight="Black"
											x:Name="SourceTerm_EditableTextBlock"
											Text="{Binding SelectedItem.SourceTerm}" />

			</DockPanel>

			<DockPanel Grid.Row="0"
					   Grid.Column="1"
					   VerticalAlignment="Top">
				<StackPanel Orientation="Horizontal"
							DockPanel.Dock="Top">
					<Image Source="{Binding TargetLanguageFlag, Converter={StaticResource ImageConverter}}"
						   Width="19"
						   Height="19" />
					<TextBlock Text="{Binding TargetLanguage.DisplayName}"
							   VerticalAlignment="Center"
							   FontWeight="Light"
							   FontSize="17" />
				</StackPanel>

				<StackPanel DockPanel.Dock="Bottom"
							Margin="10 5 0 0">
					<controls:EditableTextBlock Text="{Binding SelectedItem.TargetTermComment1}"
												x:Name="TargetTermComment1_EditableTextBlock" />
					<controls:EditableTextBlock Text="{Binding SelectedItem.TargetTermComment2}"
												Margin="0 2 0 0"
												x:Name="TargetTermComment2_EditableTextBlock" />
				</StackPanel>

				<controls:EditableTextBlock DockPanel.Dock="Bottom"
											x:Name="TargetTerm_EditableTextBlock"
											Margin="5 5 0 0"
											FontSize="15"
											FontWeight="Black"
											Text="{Binding SelectedItem.TargetTerm}" />
			</DockPanel>

			<controls:EditableTextBlock Grid.Row="1"
										VerticalAlignment="Top"
										x:Name="CommentAll_EditableTextBlock"
										Margin="7 10 0 0"
										Grid.Column="0"
										Grid.ColumnSpan="2"
										FontSize="15"
										Text="{Binding SelectedItem.CommentAll}" />


			<DockPanel Grid.Row="1"
					   VerticalAlignment="Bottom"
					   LastChildFill="False"
					   Grid.Column="0"
					   Grid.ColumnSpan="2">




				<Button Style="{StaticResource GlyphButtonStyle}"
						Name="EditTerm_Button"
						ToolTip="Edit"
						Click="EditButton_Click"
				        FontSize="15"
						Visibility="{Binding Visibility, ElementName=ConfirmEdit_StackPanel, Converter={StaticResource InvertVisibilityConverter}}"
				        DockPanel.Dock="Right"
				        Margin="2 0 0 0"
				        Content="📝" />


				<StackPanel Orientation="Horizontal" DockPanel.Dock="Right"
							Name="ConfirmEdit_StackPanel"
				            Visibility="{Binding IsEditing, ElementName=SourceTerm_EditableTextBlock, Converter={StaticResource BoolToVis}}">
					<Button DockPanel.Dock="Right"
							Name="SaveEdits_Button"
							Foreground="LimeGreen"
							ToolTip="Save edit"
							Click="StopEdit_Button_OnClick"
					        Style="{StaticResource GlyphButtonStyle}"
					        FontSize="15"
							FontWeight="Bold"
					        Content="✓" />

					<Button DockPanel.Dock="Right"
							Foreground="Red"
							ToolTip="Discard changes"
							Name="DiscardEdits_Button"
							Click="StopEdit_Button_OnClick"
					        Style="{StaticResource GlyphButtonStyle}"
					        FontSize="15"
							FontWeight="Bold"
					        Content="X" />
				</StackPanel>
			</DockPanel>

		</Grid>
		<!--</Border>-->

	</Grid>
</UserControl>